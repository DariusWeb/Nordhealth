import{d as g,r as n,v as d,y as o,J as c,K as v,L as f,z as _,M as $,N as S,x as u,I as q,_ as h,A as E}from"./CJBfkSGt.js";import{u as z}from"./BxTRVEMa.js";const N={class:"login-form"},P={class:"form-group","aria-labelledby":"email-input"},R={key:0,class:"error"},C={class:"form-group password-form","aria-labelledby":"password-input"},F=["type"],M=["name"],j={key:0,class:"error"},B={class:"form-group"},D=["checked"],I=["disabled"],T=g({__name:"loginForm",setup(b){const e=n({email:"",password:"",receiveUpdates:!1}),m=q(),t=n(""),r=n(""),p=n(!1),l=n(!1),w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,x=z("user",()=>({email:""})),k=()=>{t.value="",r.value="";let s=!0;return e.value.email?w.test(e.value.email)||(t.value="Please enter a valid email address",s=!1):(t.value="Email is required",s=!1),e.value.password||(r.value="Password is required",s=!1),s},V=()=>{k()&&(p.value=!0,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)}).then(s=>(s.ok||(t.value="Login failed. Please try again."),s.json())).then(()=>{x.value.email=e.value.email,m.push("/auth/success")}))},U=()=>{l.value=!l.value};return(s,a)=>(u(),d("section",N,[a[5]||(a[5]=o("provet-avatar",{class:"n-margin-be-l",name:"Avatar",size:"xxxl"},null,-1)),o("form",{onSubmit:S(V,["prevent"]),autocomplete:"off"},[o("div",P,[c(o("provet-input",{"onUpdate:modelValue":a[0]||(a[0]=i=>e.value.email=i),type:"email",placeholder:"Enter your email",size:"l",expand:"",required:"",hideRequired:"",autocomplete:"off","data-1p-ignore":""},a[3]||(a[3]=[o("provet-icon",{slot:"start",name:"generic-mail",color:"var(--light-color)"},null,-1)]),512),[[f,e.value.email]]),t.value?(u(),d("span",R,_(t.value),1)):v("",!0)]),o("div",C,[c(o("provet-input",{"onUpdate:modelValue":a[1]||(a[1]=i=>e.value.password=i),type:l.value?"text":"password",placeholder:"Enter your password",size:"l",expand:"",required:"",hideRequired:"",autocomplete:"new-password","data-1p-ignore":""},a[4]||(a[4]=[o("provet-icon",{slot:"start",name:"interface-lock",color:"var(--light-color)"},null,-1)]),8,F),[[$,e.value.password]]),o("provet-icon",{tabindex:"0",class:"show-password",name:`interface-edit-${l.value?"on":"off"}`,onClick:U},null,8,M),r.value?(u(),d("span",j,_(r.value),1)):v("",!0)]),o("div",B,[c(o("provet-checkbox",{"onUpdate:modelValue":a[2]||(a[2]=i=>e.value.receiveUpdates=i),checked:e.value.receiveUpdates,label:"Receive occasional product updates and announcements"},null,8,D),[[f,e.value.receiveUpdates]])]),o("provet-button",{type:"submit",variant:"primary",expand:"",size:"l",disabled:p.value},"Sign Up",8,I)],32)]))}}),y=h(T,[["__scopeId","data-v-abdff34c"]]),A=g({components:{loginForm:y}}),J={class:"page-login"};function L(b,e,m,t,r,p){const l=y;return u(),d("main",J,[E(l)])}const G=h(A,[["render",L],["__scopeId","data-v-7747399a"]]);export{G as default};
