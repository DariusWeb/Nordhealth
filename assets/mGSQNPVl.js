import{d as g,r as n,v as d,y as s,J as c,K as v,L as _,z as f,M as $,N as S,x as u,I as q,_ as h,A as E}from"./CuBtXRSR.js";import{u as z}from"./CT-N5GD6.js";const N={class:"login-form"},P={class:"form-group","aria-labelledby":"email-input"},R={key:0,class:"error"},C={class:"form-group password-form","aria-labelledby":"password-input"},F=["type"],M=["name"],j={key:0,class:"error"},B={class:"form-group"},D=["checked"],I=["disabled"],T=g({__name:"loginForm",setup(b){const e=n({email:"",password:"",receiveUpdates:!1}),m=q(),t=n(""),r=n(""),p=n(!1),l=n(!1),x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,w=z("user",()=>({email:""})),k=()=>{t.value="",r.value="";let o=!0;return e.value.email?x.test(e.value.email)||(t.value="Please enter a valid email address",o=!1):(t.value="Email is required",o=!1),e.value.password||(r.value="Password is required",o=!1),o},V=()=>{k()&&(p.value=!0,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)}).then(o=>(o.ok||(t.value="Login failed. Please try again."),o.json())).then(()=>{w.value.email=e.value.email,m.push("/auth/success")}))},U=()=>{l.value=!l.value};return(o,a)=>(u(),d("section",N,[a[5]||(a[5]=s("provet-avatar",{class:"n-margin-be-l",name:"Avatar",size:"xxxl"},null,-1)),s("form",{onSubmit:S(V,["prevent"])},[s("div",P,[c(s("provet-input",{"onUpdate:modelValue":a[0]||(a[0]=i=>e.value.email=i),type:"email",placeholder:"Enter your email",size:"l",expand:"",required:"",hideRequired:""},a[3]||(a[3]=[s("provet-icon",{slot:"start",name:"generic-mail",color:"var(--light-color)"},null,-1)]),512),[[_,e.value.email]]),t.value?(u(),d("span",R,f(t.value),1)):v("",!0)]),s("div",C,[c(s("provet-input",{"onUpdate:modelValue":a[1]||(a[1]=i=>e.value.password=i),type:l.value?"text":"password",placeholder:"Enter your password",size:"l",expand:"",required:"",hideRequired:""},a[4]||(a[4]=[s("provet-icon",{slot:"start",name:"interface-lock",color:"var(--light-color)"},null,-1)]),8,F),[[$,e.value.password]]),s("provet-icon",{tabindex:"0",class:"show-password",name:`interface-edit-${l.value?"on":"off"}`,onClick:U},null,8,M),r.value?(u(),d("span",j,f(r.value),1)):v("",!0)]),s("div",B,[c(s("provet-checkbox",{"onUpdate:modelValue":a[2]||(a[2]=i=>e.value.receiveUpdates=i),checked:e.value.receiveUpdates,label:"Receive occasional product updates and announcements"},null,8,D),[[_,e.value.receiveUpdates]])]),s("provet-button",{type:"submit",variant:"primary",expand:"",size:"l",disabled:p.value},"Sign Up",8,I)],32)]))}}),y=h(T,[["__scopeId","data-v-5aabc1ac"]]),A=g({components:{loginForm:y}}),J={class:"page-login"};function L(b,e,m,t,r,p){const l=y;return u(),d("main",J,[E(l)])}const G=h(A,[["render",L],["__scopeId","data-v-e0203e84"]]);export{G as default};
